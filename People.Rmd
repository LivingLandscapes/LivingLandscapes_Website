---
title: "People"
output: 
  html_document:
    includes:
       in_header: g_analytics.html
---

Lab members listed alphabetically by last name. Last updated: August 25, 2021.

```{r, echo = FALSE, include = FALSE}
# List of packages necessary to run this script:
needed.packs <- list("data.table", "stringr", "magrittr", "dplyr", "kableExtra",
                     "knitr")

# Install/Load packages
package.check <- lapply(needed.packs, FUN = function(x) {
  if (!require(x, character.only = TRUE)) {
    install.packages(x, dependencies = TRUE)
    library(x, character.only = TRUE)
  }
})

```

```{r, include = TRUE, echo = FALSE}

# get file names/locations for profile pictures
profile_pics <- sort(paste0("C:/Users/Caleb/Box/GitHub/RobertsLabWebsite2/images/ProfilePics/",
                            list.files("C:/Users/Caleb/Box/GitHub/RobertsLabWebsite2/images/ProfilePics/")),
                     decreasing = TRUE)

# Sort profile pics
profile_pics <- data.table(profilePicFiles = profile_pics,
                           sortPics =   sapply(str_extract_all(str_remove(str_remove(profile_pics, 
                                            "C:/Users/Caleb/Box/GitHub/RobertsLabWebsite2/images/ProfilePics/ProfilePic_"), 
                                         "\\.([A-Z]+)|\\.([a-z]+)"), 
                              "[A-Z][a-z][a-z]"), function(X) X[2]))[order(sortPics)]
profile_pics <- unlist(profile_pics$profilePicFiles)



# Create data.frame with lab member info
people_tbl <- data.frame(
  Members = c("Caleb Roberts", "Percy Marshall", "Mike Shaw"),
  Roles = c("PI", "Master's Student", "Master's Student"),
  Contact = c("cr065@uark.edu", "pmm005@uark.edu", "ms161@uark.edu"),
  Bios = c(
    "Caleb is the leader of the Living Landscapes Lab. He works for the U.S. Geological Survey as an Assistant Unit Leader at the Arkansas Cooperative Fish & Wildlife Research Unit. Caleb's research interests include ecological resilience, grasslands, landscape ecology, fire, birds, invasive species, plants, community ecology, agroecosystems, complexity theory, and rangelands. Caleb is from western Kentucky, and he enjoys writing, running, reading, cooking, gardening, board games, hiking, and hanging out with his wife, daughter, and cat. ",
    "Percy's research interests include behavioral ecology, landscape dynamics,and conservation ecology. They are specifically interested in the impacts of invasive waterfowl species on both natural ecosystems and private property. Percy's research will focus on cataloging distribution and abundance data on Egyptian Geese within Arkansas. They will be working towards understanding the risks that the waterfowl pose to human and ecological interests and helping better prepare for any management tactics that may be needed in the future. ",
    "Mikeâ€™s research interests are in mammal ecology, and he will be studying Eastern Spotted Skunk (Spilogale putorius) in southwest Arkansas. He will be using camera traps to document the presence of Eastern spotted skunk and observe habitat associations. Mike worked in Colorado as a wildlife technician for Colorado Parks and Wildlife and moved to Maryland after his position in Colorado. In Maryland, he worked for county government as a wildlife management specialist. Mike is from eastern Maine, and he enjoys hiking, weightlifting, kayaking, and boardgames."
  ),
  Pics = rep("", length(profile_pics))
)

# Order lab member data.frame alphabetically
people_tbl <- 
  people_tbl %>%
  mutate(Surname = str_trim(str_extract(Members, "(\\ [A-Z][a-z])")))
people_tbl <- as.data.table(people_tbl)[order(Surname, decreasing = FALSE)][ , "Surname" := NULL]

# Remove column names
setnames(people_tbl, names(people_tbl), rep("", ncol(people_tbl)))

# Create html table with people info
kbl(people_tbl) %>%
  kable_paper(full_width = F) %>%
  column_spec(1, bold = TRUE, border_right = FALSE, 
              width = "10em") %>%
  column_spec(2, bold = FALSE, border_right = FALSE, width = "15em") %>%
  column_spec(3, bold = FALSE, border_right = FALSE, 
              width = "10em") %>%
  column_spec(4, width = "20em") %>%
  column_spec(5, width = "25em", image = profile_pics)


```